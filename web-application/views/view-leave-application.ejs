<% include partials/header %>

<div class="jumbotron" style="text-align:center;">
  <h1>View Leave Applications</h1> 
</div>

<div class = "container">
	<table class="table table-dark" style="text-align:center;">

		<!-- Define name of each column -->
		<thead>
			<tr>
			<th scope="col">Key #</th>
			<th scope="col">Document Type</th>
			<th scope="col">Name</th>
			<th scope="col">Start Date</th>
			<th scope="col">End Date</th>
			<th scope="col">Status</th>
			<th scope="col">Action</th>
			</tr>
		</thead>
<!-- 		<form>
  <div class="form-group">
    <label for="exampleInputEmail1">Email address</label>
    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Password</label>
    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
  </div>
  <div class="form-check">
    <input type="checkbox" class="form-check-input" id="exampleCheck1">
    <label class="form-check-label" for="exampleCheck1">Check me out</label>
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form> -->

		<tbody>
			<% for ( let i = 0; i < leaveApplications.length; i++ ) { %>
				<tr>
					<th scope="row"> <%= leaveApplications[i]['Key'] %></th>
					<td> <%= leaveApplications[i]['Record']['docType'] %></td>
					<td> <%= leaveApplications[i]['Record']['empName'] %></td>
					<td> <%= leaveApplications[i]['Record']['startDate'] %></td>
					<td> <%= leaveApplications[i]['Record']['endDate'] %></td>
					<td> <%= leaveApplications[i]['Record']['status'] %></td>
					<td>
						<form action="/leave/application/update" method="POST" id="form">
							<input type="hidden" name="key" value= <%= leaveApplications[i]['Key']%> >
							<input type="hidden" name="status" value= <%= leaveApplications[i]['Record']['status']%> >
							<input type="submit" name="approval" value="approve">
							<input type="submit" name="approval" value="reject">
						</form>
					</td>
				</tr> 
			<% }; %>
		</tbody>

	</table>
</div>

<% include partials/footer %>